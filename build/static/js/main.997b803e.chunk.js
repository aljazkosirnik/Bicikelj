(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a(316)},276:function(e,t){},278:function(e,t){},315:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),c=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(43),s=a.n(l),i=a(83),u=a(33),m=a(320),f=function(e){if(0==e.loading)return r.a.createElement(m.a,{celled:!0,inverted:!0,selectable:!0,className:"list"},r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Row,null,r.a.createElement(m.a.HeaderCell,null,"Postaja"),r.a.createElement(m.a.HeaderCell,null,"\u0160tevilo koles"),r.a.createElement(m.a.HeaderCell,null,"\u0160tevilo prostih mest"))),r.a.createElement(m.a.Body,null,e.data.carto.markers.marker.map(function(t){return r.a.createElement(m.a.Row,{key:t._attributes.number},r.a.createElement(m.a.Cell,null,t._attributes.address),r.a.createElement(m.a.Cell,null,e.stations[t._attributes.number-1].station.available._text),r.a.createElement(m.a.Cell,null,e.stations[t._attributes.number-1].station.free._text))})))},p=function(e){var t=e.googleMap,a=e.mapContainerRef,r=e.mapInfo,o=e.data,c=e.stations,l=e.loading;Object(n.useEffect)(function(){!function(){if(t&&a.current){var e=new t.maps.Map(a.current,r),n=[],l=[];o.carto.markers.marker.map(function(a){n.push(new t.maps.Marker({position:{lat:parseFloat(a._attributes.lat),lng:parseFloat(a._attributes.lng)},map:e})),l.push(new t.maps.InfoWindow({content:'<div className="infoWindow">\n\t\t\t\t\t\t\t<h3>'.concat(a._attributes.fullAddress,"</h3>\n\t\t\t\t\t\t\t<h5>\u0160tevilo koles: ").concat(c[a._attributes.number-1].station.available._text,"</h5>\n\t\t\t\t\t\t\t<h5>\u0160tevilo prostih mest: ").concat(c[a._attributes.number-1].station.free._text,"</h5>\n          </div>")}))});for(var s=function(t){n[t].addListener("mouseover",function(){l[t].open(e,n[t])}),n[t].addListener("mouseout",function(){l[t].close(e,n[t])})},i=0;i<n.length;i++)s(i)}}()},[l])},d=a(140),b=a.n(d),h={zoom:14,center:{lat:46.056946,lng:14.505751}},v=a(141),w=a.n(v),E=a(84),j=a.n(E),k=a(321),g=a(319),O=a(322),x=a(323),_=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),l=Object(u.a)(c,2),m=l[0],d=l[1],v=Object(n.useState)(!0),E=Object(u.a)(v,2),_=E[0],C=E[1],y="https://whispering-cove-30903.herokuapp.com/",N="http://www.bicikelj.si/service/carto";function I(){return(I=Object(i.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y+N).then(function(e){return e.text()}).then(function(e){return o(JSON.parse(j.a.xml2json(e,{compact:!0,spaces:1})))}).catch(function(e){return console.log("Can\u2019t access "+N+" response. Blocked by browser? or "+e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var S=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],t=1;case 2:if(!(t<=59)){e.next=11;break}return e.next=5,w()(y+"http://www.bicikelj.si/service/stationdetails/ljubljana/"+t);case 5:n=e.sent,r=JSON.parse(j.a.xml2json(n.data,{compact:!0,spaces:1})),a.push(r);case 8:t++,e.next=2;break;case 11:d(a),C(!1);case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){!function(){I.apply(this,arguments)}(),S()},[]);var z=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)(function(){b()({apiKey:e}).then(function(e){o(e)})},[]),r}("AIzaSyDjfCiAbexFHp5OujzznVrIYIwyJUPuNBo"),B=Object(n.useRef)(null);return p({googleMap:z,mapContainerRef:B,mapInfo:h,data:a,stations:m,loading:_}),1==_?r.a.createElement(k.a,{active:!0,inverted:!0},r.a.createElement(g.a,{inverted:!0,content:"Nalagam",size:"huge",className:"loader"})):r.a.createElement(O.a,{stackable:!0,columns:"equal"},r.a.createElement(O.a.Column,{width:10},r.a.createElement(x.a,null,r.a.createElement("div",{className:"map",ref:B}))),r.a.createElement(O.a.Column,null,r.a.createElement(x.a,null,r.a.createElement(f,{data:a,loading:_,stations:m}))))};a(314),a(315);c.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[153,1,2]]]);
//# sourceMappingURL=main.997b803e.chunk.js.map